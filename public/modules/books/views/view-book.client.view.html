<style>
    .st-sort-default:before {content: '\25B1'}
    .st-sort-ascent:before {content: '\25B2'}
    .st-sort-descent:before {content: '\25BC'}
</style>
<section data-ng-controller="BooksController" data-ng-init="findOne()">
    <div class="page-header">
        <div class="">
            <h1 data-ng-bind="book.title | capitalize:true"></h1>
            <h4 data-ng-bind="book.author | capitalize:true"></h4>
            <p data-ng-bind="book.releaseDate"></p>
            <p data-ng-bind="book.description | capitalize"></p>

            <div class="">
                <a class="btn btn-primary" href="/#!/books/{{book._id}}/edit">
                    <i class="glyphicon glyphicon-edit"></i>
                </a>
                <a class="btn btn-primary" data-ng-click="remove();">
                    <i class="glyphicon glyphicon-trash"></i>
                </a>
            </div>
        </div>
    </div>
    <h2>Characters</h2>
    <div data-ng-init="initTable()">
        <!--<table st-table="characterCollection" st-safe-src="bookCharacters" class="table table-striped">-->
        <table st-table="bookCharacters" st-safe-src="displayedCharacters" class="table table-striped">
            <thead>
            <tr>
                <th colspan="5"><input st-search="" class="form-control" placeholder="Search.." type="search"/></th>
            </tr>
            <tr>
                <th st-sort="firstName" st-sort-default="true">First Name</th>
                <th st-sort="middleName">Middle Name</th>
                <th st-sort="lastName">Last Name</th>
                <th st-sort="description">Description</th>
            </tr>
            </thead>
            <tbody>
            <!--<tr ng-repeat="character in filterCharacters()">-->
            <tr ng-repeat="character in bookCharacters">
                <td>{{character.firstName | capitalize:true}}</td>
                <td>{{character.middleName | capitalize:true}}</td>
                <td>{{character.lastName | capitalize:true}}</td>
                <td>{{character.description | capitalize}}</td>
                <td>
                    <a class="btn" href="/#!/characters/{{character._id}}">
                        <i class="glyphicon glyphicon-eye-open"></i>
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</section>
